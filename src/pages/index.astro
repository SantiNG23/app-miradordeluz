---
import Layout from "../layouts/Layout.astro";
import NavbarMiradorDeLuz from "../components/react/NavbarMiradorDeLuz";
import NavbarVisibilityController from "../components/react/NavbarVisibilityController";
import UbicacionObserver from "../components/react/UbicacionObserver";
import HeroMiradorDeLuz from "../components/react/HeroMiradorDeLuz";
import SectionUbicacionMiradorDeLuz from "../components/react/SectionUbicacionMiradorDeLuz";
import SectionHeroIntermedioMiradorDeLuzV2 from "../components/react/SectionHeroIntermedioMiradorDeLuzV2";
import SectionCabanasMiradorDeLuzV3 from "../components/react/SectionCabanasMiradorDeLuzV3";
import SectionServiciosInstalacionesMiradorDeLuz from "../components/react/SectionServiciosInstalacionesMiradorDeLuz";
import SectionTestimoniosMiradorDeLuzV2 from "../components/react/SectionTestimoniosMiradorDeLuzV2";
import FooterMiradorDeLuz from "../components/react/FooterMiradorDeLuz";
import ScrollAnimations from "../components/react/ScrollAnimations";
---

<Layout title="Mirador de Luz - Cabañas en Carlos Paz">
  <!-- Navbar fijo que permanece visible durante el scroll -->
  <NavbarMiradorDeLuz client:load transparente={true} isHeroPage={true} />

  <!-- Controlador de visibilidad del navbar -->
  <NavbarVisibilityController client:load />
  <UbicacionObserver client:load />

  <!-- Componente de animaciones GSAP -->
  <ScrollAnimations client:load />

  <main>
    <!-- 1. Hero Principal -->
    <div id="hero-section" style="position: relative;">
      <HeroMiradorDeLuz client:load />
      <div
        class="hero-overlay"
        style="position: absolute; inset: 0; background: black; opacity: 0.5; pointer-events: none; z-index: 5;"
      >
      </div>
    </div>

    <!-- 2. Ubicación Section -->
    <div
      id="ubicacion-section"
      style="position: relative; z-index: 10; background: white;"
    >
      <SectionUbicacionMiradorDeLuz client:visible />
    </div>

    <!-- 3. Hero Intermedio con Video (60% → 100% con animación) -->
    <div id="hero-intermedio-section" style="position: relative; z-index: 9;">
      <SectionHeroIntermedioMiradorDeLuzV2
        client:visible
        backgroundVideo="/videos/VideoCarlosPaz.mp4"
        subheading="MIRADOR DE LUZ"
        title="Experiencia única.\nEntre las montañas."
        overlayOpacity="dark"
        hideNavbar={false}
      />
    </div>

    <!-- 4. Cabañas Section -->
    <div
      id="cabanas-section"
      style="position: relative; z-index: 11; background: white;"
    >
      <div id="cabanas">
        <SectionCabanasMiradorDeLuzV3 client:visible />
      </div>
    </div>

    <!-- 5. Servicios e Instalaciones Section -->
    <div id="servicios-instalaciones">
      <SectionServiciosInstalacionesMiradorDeLuz client:visible />
    </div>

    <!-- 6. Testimonios Section -->
    <div id="testimonios">
      <SectionTestimoniosMiradorDeLuzV2 client:visible />
    </div>
  </main>

  <!-- Footer -->
  <FooterMiradorDeLuz client:load />
</Layout>
